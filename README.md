## Скрипт для мониторинга системных процессов на Bash.

Отслеживает процессы с наибольшей нагрузкой на CPU и память, логирует данные в файл.

## Возможности

- Мониторинг топ-процессов по использованию CPU
- Мониторинг топ-процессов по использованию памяти
- Логирование данных в файл
- Режим фонового выполнения (daemon)
- Вывод логов в консоль (verbose режим)
- Настройка через переменные окружения

## Установка

Клонируйте репозиторий и дайте права на выполнение скрипту:

```bash
git clone https://github.com/s1kko1337/bash-practice.git
cd bash-practice
chmod +x monitor.sh
```

## Конфигурация

Создайте файл `.env` на основе примера:

```bash
cp .example.env .env
```

Доступные переменные окружения:

- `TOP_CPU_COUNT` - количество процессов для мониторинга по CPU (по умолчанию: 5)
- `TOP_MEM_COUNT` - количество процессов для мониторинга по памяти (по умолчанию: 5)
- `MONITOR_INTERVAL` - интервал между проверками в секундах (по умолчанию: 10)
- `OUTPUT_FILE` - имя файла для логов (по умолчанию: monitor.log)
- `PID_FILE` - файл для хранения PID при фоновом режиме (по умолчанию: /tmp/monitor.pid)

## Использование

### Базовый запуск

```bash
./monitor.sh
```

### Опции командной строки

- `-d, --daemon` - запуск в фоновом режиме
- `-v, --verbose` - вывод лога в консоль
- `-s, --stop` - остановить фоновый процесс
- `-h, --help` - показать справку

### Примеры

Запуск с выводом в консоль:

```bash
./monitor.sh --verbose
```

Запуск в фоновом режиме:

```bash
./monitor.sh --daemon
```

Остановка фонового процесса:

```bash
./monitor.sh --stop
```

## Формат логов

Логи записываются в формате:

```
YYYY-MM-DD HH:MM:SS | PID | ProcessName | CPU% | MemoryBytes | Type
```

Где `Type` может быть:

- `CPU` - процесс из топа по загрузке процессора
- `MEM` - процесс из топа по использованию памяти

## Требования

- Bash
- Стандартные утилиты Unix/Linux: `ps`, `sort`, `head`, `date`
